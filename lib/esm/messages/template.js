var i=class{_build(){return JSON.stringify(this)}};var o=class{constructor(e,t,r,n){if(r.length>n)throw new Error(`${e} can't have more than ${n} ${t}`)}};var y=class extends i{constructor(t,r,...n){super();if(this.name=t,this.language=typeof r=="string"?new g(r):r,n.length){let a=n.length===1&&n[0]instanceof d;this.components=n.map(p=>p._build(a)).flat()}}get _type(){return"template"}},g=class{constructor(e,t="deterministic"){this.policy=t,this.code=e}},l=class{get _type(){return"currency"}constructor(e,t,r){if(e<=0)throw new Error("Currency must have an amount_1000 greater than 0");this.amount_1000=e,this.code=t,this.fallback_value=r}},u=class{get _type(){return"date_time"}constructor(e){this.fallback_value=e}},m=class extends o{constructor(t,...r){super("ButtonComponent","parameters",r,3);let n=t==="url"?"text":"payload",a=r.map(p=>new c(p,n));this.type="button",this.sub_type=t,this.parameters=a}_build(){return this.parameters.map((t,r)=>({type:this.type,sub_type:this.sub_type,index:r.toString(),parameters:[t]}))}},c=class{constructor(e,t){this.type=t,this[t]=e}},v=class{constructor(...e){this.type="header",this.parameters=e}_build(){return this}},_=class{constructor(e){if(typeof e=="string"){if(e.length>60)throw new Error("Header text must be 60 characters or less");this.type="text"}else{if(e._type==="location"&&!(e.name&&e.address))throw new Error("Header location must have a name and address");this.type=e._type}Object.defineProperty(this,this.type,{value:e})}},d=class{constructor(...e){this.type="body",this.parameters=e}_build(e){if(this.parameters&&!e){for(let t of this.parameters)if(t.text&&t.text?.length>1024)throw new Error("Body text must be 1024 characters or less")}return this}},x=class{constructor(e){if(typeof e=="string"){if(e.length>32768)throw new Error("Body text must be 32768 characters or less");this.type="text"}else this.type=e._type;Object.defineProperty(this,this.type,{value:e})}};export{d as BodyComponent,x as BodyParameter,m as ButtonComponent,c as ButtonParameter,l as Currency,u as DateTime,v as HeaderComponent,_ as HeaderParameter,g as Language,y as Template};
//# sourceMappingURL=template.js.map
