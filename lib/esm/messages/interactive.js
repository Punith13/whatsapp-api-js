"use strict";var i=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var v=(o,t)=>{for(var e in t)i(o,e,{get:t[e],enumerable:!0})},x=(o,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of _(t))!E.call(o,n)&&n!==e&&i(o,n,{get:()=>t[n],enumerable:!(r=f(t,n))||r.enumerable});return o};var b=o=>x(i({},"__esModule",{value:!0}),o);var A={};v(A,{ActionButtons:()=>d,ActionCatalog:()=>m,ActionList:()=>u,Body:()=>l,Button:()=>p,Footer:()=>c,Header:()=>h,Interactive:()=>a,ListSection:()=>g,Product:()=>w,ProductSection:()=>s,Row:()=>y});module.exports=b(A);var a=class{get _type(){return"interactive"}constructor(t,e,r,n){if(t._type!=="product"&&!e)throw new Error("Interactive must have a body component");if(t._type==="product"&&r)throw new Error("Interactive must not have a header component if action is a single product");if(t._type==="product_list"&&r?.type!=="text")throw new Error("Interactive must have a text header component if action is a product list");if(r&&t._type!=="button"&&r?.type!=="text")throw new Error("Interactive header must be of type text");this.type=t._type,this.action=t,e&&(this.body=e),r&&(this.header=r),n&&(this.footer=n)}_build(){return JSON.stringify(this)}},l=class{constructor(t){if(t.length>1024)throw new Error("Body text must be less than 1024 characters");this.text=t}},c=class{constructor(t){if(t.length>60)throw new Error("Footer text must be 60 characters or less");this.text=t}},h=class{constructor(t){if(typeof t=="string"){if(t.length>60)throw new Error("Header text must be 60 characters or less");this.type="text"}else if(this.type=t._type,"caption"in t)throw new Error(`Header ${this.type} must not have a caption`);this[this.type]=t}},d=class{get _type(){return"button"}constructor(...t){if(t.length>3)throw new Error("Reply buttons must have between 1 and 3 buttons");let e=t.map(n=>n[n.type].id);if(e.length!==new Set(e).size)throw new Error("Reply buttons must have unique ids");let r=t.map(n=>n[n.type].title);if(r.length!==new Set(r).size)throw new Error("Reply buttons must have unique titles");this.buttons=t}},p=class{constructor(t,e){if(t.length>256)throw new Error("Button id must be 256 characters or less");if(/^ | $/.test(t))throw new Error("Button id cannot have leading or trailing spaces");if(e.length>20)throw new Error("Button title must be 20 characters or less");this.type="reply",this.reply={title:e,id:t}}},u=class{get _type(){return"list"}constructor(t,...e){if(t.length>20)throw new Error("Button content must be 20 characters or less");if(e.length>10)throw new Error("Action must have between 1 and 10 sections");if(e.length>1&&!e.every(r=>"title"in r))throw new Error("All sections must have a title if more than 1 section is provided");this.button=t,this.sections=e}},g=class{constructor(t,...e){if(t&&t.length>24)throw new Error("Section title must be 24 characters or less");if(!e.length||e.length>10)throw new Error("Section must have between 1 and 10 rows");t&&(this.title=t),this.rows=e}},y=class{constructor(t,e,r){if(t.length>200)throw new Error("Row id must be 200 characters or less");if(e.length>24)throw new Error("Row title must be 24 characters or less");if(r&&r.length>72)throw new Error("Row description must be 72 characters or less");this.id=t,this.title=e,r&&(this.description=r)}};function C(o){return o[0]instanceof s}var m=class{get _type(){return this.product_retailer_id?"product":"product_list"}constructor(t,...e){let r=C(e);if(r&&e.length>1){if(e.length>10)throw new Error("Catalog must have between 1 and 10 product sections");for(let n of e)if(!("title"in n))throw new Error("All sections must have a title if more than 1 section is provided")}this.catalog_id=t,r?this.sections=e:this.product_retailer_id=e[0].product_retailer_id}},s=class{constructor(t,...e){if(t&&t.length>24)throw new Error("Section title must be 24 characters or less");if(e.length>30)throw new Error("Section must have between 1 and 30 products");t&&(this.title=t),this.product_items=e}},w=class{constructor(t){this.product_retailer_id=t}};0&&(module.exports={ActionButtons,ActionCatalog,ActionList,Body,Button,Footer,Header,Interactive,ListSection,Product,ProductSection,Row});
