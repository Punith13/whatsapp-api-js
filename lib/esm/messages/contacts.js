var ClientMessage=class{_build(){return JSON.stringify(this)}};var ContactComponent=class{_build(){return this}},ContactMultipleComponent=class extends ContactComponent{get _many(){return!0}},ContactUniqueComponent=class extends ContactComponent{get _many(){return!1}};var Contacts=class extends ClientMessage{component;get _type(){return"contacts"}constructor(...contact){super(),this.component=[];for(let components of contact){let contact2={};for(let component of components){let name=component._type;if(component._many)contact2[name]||Object.defineProperty(contact2,name,{value:[],enumerable:!0}),contact2[name].push(component._build());else{if(contact2[name])throw new Error(`Contact already has a ${name} component and _many is set to false`);contact2[name]=component._build()}}if(!contact2.name)throw new Error("Contact must have a name component");this.component.push(contact2)}}_build(){return JSON.stringify(this.component)}},Address=class extends ContactMultipleComponent{country;country_code;state;city;street;zip;type;get _type(){return"addresses"}constructor(country,country_code,state,city,street,zip,type){super(),country&&(this.country=country),country_code&&(this.country_code=country_code),state&&(this.state=state),city&&(this.city=city),street&&(this.street=street),zip&&(this.zip=zip),type&&(this.type=type)}},Birthday=class extends ContactUniqueComponent{birthday;get _type(){return"birthday"}constructor(year,month,day){if(super(),year.length!==4)throw new Error("Year must be 4 digits");if(month.length!==2)throw new Error("Month must be 2 digits");if(day.length!==2)throw new Error("Day must be 2 digits");this.birthday=`${year}-${month}-${day}`}_build(){return this.birthday}},Email=class extends ContactMultipleComponent{email;type;get _type(){return"emails"}constructor(email,type){super(),email&&(this.email=email),type&&(this.type=type)}},Name=class extends ContactUniqueComponent{formatted_name;first_name;last_name;middle_name;suffix;prefix;get _type(){return"name"}constructor(formatted_name,first_name,last_name,middle_name,suffix,prefix){if(super(),this.formatted_name=formatted_name,first_name&&(this.first_name=first_name),last_name&&(this.last_name=last_name),middle_name&&(this.middle_name=middle_name),suffix&&(this.suffix=suffix),prefix&&(this.prefix=prefix),Object.keys(this).length<2)throw new Error("Name must have at least one of the following: first_name, last_name, middle_name, prefix, suffix")}},Organization=class extends ContactUniqueComponent{company;department;title;get _type(){return"org"}constructor(company,department,title){super(),company&&(this.company=company),department&&(this.department=department),title&&(this.title=title)}},Phone=class extends ContactMultipleComponent{phone;type;wa_id;get _type(){return"phones"}constructor(phone,type,wa_id){super(),phone&&(this.phone=phone),type&&(this.type=type),wa_id&&(this.wa_id=wa_id)}},Url=class extends ContactMultipleComponent{url;type;get _type(){return"urls"}constructor(url,type){super(),url&&(this.url=url),type&&(this.type=type)}};export{Address,Birthday,Contacts,Email,Name,Organization,Phone,Url};
//# sourceMappingURL=contacts.js.map
