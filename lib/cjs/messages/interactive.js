"use strict";var d=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var T=(s,t)=>{for(var e in t)d(s,e,{get:t[e],enumerable:!0})},C=(s,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of R(t))!E.call(s,n)&&n!==e&&d(s,n,{get:()=>t[n],enumerable:!(r=M(t,n))||r.enumerable});return s};var k=s=>C(d({},"__esModule",{value:!0}),s);var B={};T(B,{ActionButtons:()=>h,ActionCatalog:()=>f,ActionList:()=>_,Body:()=>u,Button:()=>v,Footer:()=>y,Header:()=>m,Interactive:()=>l,ListSection:()=>x,Product:()=>w,ProductSection:()=>c,Row:()=>S,Section:()=>a});module.exports=k(B);var g=class{_build(){return JSON.stringify(this)}};var o=class{constructor(t,e,r,n){if(r.length>n)throw new Error(`${t} can't have more than ${n} ${e}`)}};var l=class extends g{constructor(e,r,n,i){super();if(e._type!=="product"&&!r)throw new Error("Interactive must have a body component");if(e._type==="product"&&n)throw new Error("Interactive must not have a header component if action is a single product");if(e._type==="product_list"&&n?.type!=="text")throw new Error("Interactive must have a text header component if action is a product list");if(n&&e._type!=="button"&&n?.type!=="text")throw new Error("Interactive header must be of type text");this.type=e._type,this.action=e,r&&(this.body=r),n&&(this.header=n),i&&(this.footer=i)}get _type(){return"interactive"}},u=class{constructor(t){if(t.length>1024)throw new Error("Body text must be less than 1024 characters");this.text=t}},y=class{constructor(t){if(t.length>60)throw new Error("Footer text must be 60 characters or less");this.text=t}},m=class{constructor(t){if(typeof t=="string"){if(t.length>60)throw new Error("Header text must be 60 characters or less");this.type="text"}else if(this.type=t._type,"caption"in t)throw new Error(`Header ${this.type} must not have a caption`);this[this.type]=t}},h=class extends o{constructor(...e){super("Reply buttons","button",e,3);let r=e.map(i=>i[i.type].id);if(r.length!==new Set(r).size)throw new Error("Reply buttons must have unique ids");let n=e.map(i=>i[i.type].title);if(n.length!==new Set(n).size)throw new Error("Reply buttons must have unique titles");this.buttons=e}get _type(){return"button"}},v=class{constructor(t,e){if(t.length>256)throw new Error("Button id must be 256 characters or less");if(/^ | $/.test(t))throw new Error("Button id cannot have leading or trailing spaces");if(!e.length)throw new Error("Button title cannot be an empty string");if(e.length>20)throw new Error("Button title must be 20 characters or less");this.type="reply",this.reply={title:e,id:t}}},_=class extends o{constructor(e,...r){super("Action","sections",r,10);if(!e.length)throw new Error("Button content cannot be an empty string");if(e.length>20)throw new Error("Button content must be 20 characters or less");if(r.length>1&&!r.every(n=>"title"in n))throw new Error("All sections must have a title if more than 1 section is provided");this.button=e,this.sections=r}get _type(){return"list"}},a=class extends o{constructor(e,r,n,i,p,b=24){super(e,r,n,i);if(p&&p.length>b)throw new Error(`${e} title must be ${b} characters or less`);p&&(this.title=p)}},x=class extends a{constructor(e,...r){super("ListSection","rows",r,10,e);this.rows=r}},S=class{constructor(t,e,r){if(t.length>200)throw new Error("Row id must be 200 characters or less");if(e.length>24)throw new Error("Row title must be 24 characters or less");if(r&&r.length>72)throw new Error("Row description must be 72 characters or less");this.id=t,this.title=e,r&&(this.description=r)}};function A(s){return s[0]instanceof c}var f=class{get _type(){return this.product_retailer_id?"product":"product_list"}constructor(t,...e){let r=A(e);if(r&&e.length>1){if(e.length>10)throw new Error("Catalog must have between 1 and 10 product sections");for(let n of e)if(!("title"in n))throw new Error("All sections must have a title if more than 1 section is provided")}this.catalog_id=t,r?this.sections=e:this.product_retailer_id=e[0].product_retailer_id}},c=class extends a{constructor(e,...r){super("ProductSection","products",r,30,e);this.product_items=r}},w=class{constructor(t){this.product_retailer_id=t}};0&&(module.exports={ActionButtons,ActionCatalog,ActionList,Body,Button,Footer,Header,Interactive,ListSection,Product,ProductSection,Row,Section});
//# sourceMappingURL=interactive.js.map
