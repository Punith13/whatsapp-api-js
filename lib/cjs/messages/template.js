"use strict";var y=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var x=(r,e)=>{for(var t in e)y(r,t,{get:e[t],enumerable:!0})},C=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of _(e))!f.call(r,o)&&o!==t&&y(r,o,{get:()=>e[o],enumerable:!(n=b(e,o))||n.enumerable});return r};var B=r=>C(y({},"__esModule",{value:!0}),r);var w={};x(w,{BodyComponent:()=>i,BodyParameter:()=>g,ButtonComponent:()=>u,ButtonParameter:()=>a,Currency:()=>d,DateTime:()=>c,HeaderComponent:()=>m,HeaderParameter:()=>h,Language:()=>s,Template:()=>p});module.exports=B(w);var p=class{get _type(){return"template"}constructor(e,t,...n){if(this.name=e,this.language=typeof t=="string"?new s(t):t,n.length){let o=n.length===1&&n[0]instanceof i;this.components=n.map(l=>l._build(o)).flat()}}_build(){return JSON.stringify(this)}},s=class{constructor(e,t="deterministic"){this.policy=t,this.code=e}},d=class{get _type(){return"currency"}constructor(e,t,n){if(e<=0)throw new Error("Currency must have an amount_1000 greater than 0");this.amount_1000=e,this.code=t,this.fallback_value=n}},c=class{get _type(){return"date_time"}constructor(e){this.fallback_value=e}},u=class{constructor(e,...t){if(t.length>3)throw new Error("ButtonComponent must have between 1 and 3 parameters");let n=e==="url"?"text":"payload",o=t.map(l=>new a(l,n));this.type="button",this.sub_type=e,this.parameters=o}_build(){return this.parameters.map((e,t)=>({type:this.type,sub_type:this.sub_type,index:t.toString(),parameters:[e]}))}},a=class{constructor(e,t){this.type=t,this[t]=e}},m=class{constructor(...e){this.type="header",this.parameters=e}_build(){return this}},h=class{constructor(e){if(typeof e=="string"){if(e.length>60)throw new Error("Header text must be 60 characters or less");this.type="text"}else{if(e._type==="location"&&!(e.name&&e.address))throw new Error("Header location must have a name and address");this.type=e._type}Object.defineProperty(this,this.type,{value:e})}},i=class{constructor(...e){this.type="body",this.parameters=e}_build(e){if(this.parameters&&!e){for(let t of this.parameters)if(t.text&&t.text?.length>1024)throw new Error("Body text must be 1024 characters or less")}return this}},g=class{constructor(e){if(typeof e=="string"){if(e.length>32768)throw new Error("Body text must be 32768 characters or less");this.type="text"}else this.type=e._type;Object.defineProperty(this,this.type,{value:e})}};0&&(module.exports={BodyComponent,BodyParameter,ButtonComponent,ButtonParameter,Currency,DateTime,HeaderComponent,HeaderParameter,Language,Template});
