"use strict";var y=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var M=(r,e)=>{for(var t in e)y(r,t,{get:e[t],enumerable:!0})},w=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of b(e))!f.call(r,n)&&n!==t&&y(r,n,{get:()=>e[n],enumerable:!(s=S(e,n))||s.enumerable});return r};var R=r=>w(y({},"__esModule",{value:!0}),r);var C={};M(C,{BodyComponent:()=>g,BodyParameter:()=>h,ButtonComponent:()=>v,ButtonParameter:()=>p,Currency:()=>u,DateTime:()=>m,HeaderComponent:()=>_,HeaderParameter:()=>x,Language:()=>a,Template:()=>l});module.exports=R(C);var i=class{_build(){return JSON.stringify(this)}};var o=class{constructor(e,t,s,n){if(s.length>n)throw new Error(`${e} can't have more than ${n} ${t}`)}};var l=class extends i{constructor(t,s,...n){super();if(this.name=t,this.language=typeof s=="string"?new a(s):s,n.length){let c=n.length===1&&n[0]instanceof g;this.components=n.map(d=>d._build(c)).flat()}}get _type(){return"template"}},a=class{constructor(e,t="deterministic"){this.policy=t,this.code=e}},u=class{get _type(){return"currency"}constructor(e,t,s){if(e<=0)throw new Error("Currency must have an amount_1000 greater than 0");this.amount_1000=e,this.code=t,this.fallback_value=s}},m=class{get _type(){return"date_time"}constructor(e){this.fallback_value=e}},v=class extends o{constructor(t,...s){super("ButtonComponent","parameters",s,3);let n=t==="url"?"text":"payload",c=s.map(d=>new p(d,n));this.type="button",this.sub_type=t,this.parameters=c}_build(){return this.parameters.map((t,s)=>({type:this.type,sub_type:this.sub_type,index:s.toString(),parameters:[t]}))}},p=class{constructor(e,t){this.type=t,this[t]=e}},_=class{constructor(...e){this.type="header",this.parameters=e}_build(){return this}},x=class{constructor(e){if(typeof e=="string"){if(e.length>60)throw new Error("Header text must be 60 characters or less");this.type="text"}else{if(e._type==="location"&&!(e.name&&e.address))throw new Error("Header location must have a name and address");this.type=e._type}Object.defineProperty(this,this.type,{value:e})}},g=class{constructor(...e){this.type="body",this.parameters=e}_build(e){if(this.parameters&&!e){for(let t of this.parameters)if(t.text&&t.text?.length>1024)throw new Error("Body text must be 1024 characters or less")}return this}},h=class{constructor(e){if(typeof e=="string"){if(e.length>32768)throw new Error("Body text must be 32768 characters or less");this.type="text"}else this.type=e._type;Object.defineProperty(this,this.type,{value:e})}};0&&(module.exports={BodyComponent,BodyParameter,ButtonComponent,ButtonParameter,Currency,DateTime,HeaderComponent,HeaderParameter,Language,Template});
//# sourceMappingURL=template.js.map
